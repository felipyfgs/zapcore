### WAMEX - WhatsApp API REST
### üéâ ENVIO DE MENSAGENS FUNCIONANDO! üéâ

@baseUrl = http://localhost:8080
@apiKey = njhfyikg
@sessionName = minha-sessao
@targetJID = 559981769536
@groupJID = 120363123456789012@g.us

### ===== GERENCIAMENTO DE SESS√ïES =====

### Criar sess√£o
POST {{baseUrl}}/sessions
Content-Type: application/json
apiKey: {{apiKey}}

{
  "name": "nova-sessao"
}

### Listar sess√µes
GET {{baseUrl}}/sessions
apiKey: {{apiKey}}

### Obter sess√£o espec√≠fica
GET {{baseUrl}}/sessions/{{sessionName}}
apiKey: {{apiKey}}

### Conectar sess√£o
POST {{baseUrl}}/sessions/{{sessionName}}/connect
apiKey: {{apiKey}}

### Obter QR Code
GET {{baseUrl}}/sessions/{{sessionName}}/qr
apiKey: {{apiKey}}

### Verificar status
GET {{baseUrl}}/sessions/{{sessionName}}/status
apiKey: {{apiKey}}

### Ver informa√ß√µes do device
GET {{baseUrl}}/sessions/{{sessionName}}/device
apiKey: {{apiKey}}

### Desconectar sess√£o
POST {{baseUrl}}/sessions/{{sessionName}}/disconnect
apiKey: {{apiKey}}

### Remover sess√£o
DELETE {{baseUrl}}/sessions/{{sessionName}}
apiKey: {{apiKey}}

### ===== ENVIO DE MENSAGENS =====

### Enviar mensagem de texto
POST {{baseUrl}}/sessions/{{sessionName}}/send
Content-Type: application/json
apiKey: {{apiKey}}

{
  "to": "{{targetJID}}@s.whatsapp.net",
  "message": "üéâ Mensagem de teste WAMEX! Sistema funcionando!"
}

### Enviar mensagem para grupo
POST {{baseUrl}}/sessions/{{sessionName}}/send
Content-Type: application/json
apiKey: {{apiKey}}

{
  "to": "{{groupJID}}@g.us",
  "message": "Mensagem para o grupo! üë•"
}

### ===== TESTES DE ERRO =====

### Erro: Campo 'to' ausente
POST {{baseUrl}}/sessions/{{sessionName}}/send
Content-Type: application/json
apiKey: {{apiKey}}

{
  "message": "Mensagem sem destinat√°rio"
}

### Erro: Campo 'message' ausente
POST {{baseUrl}}/sessions/{{sessionName}}/send
Content-Type: application/json
apiKey: {{apiKey}}

{
  "to": "{{targetJID}}@s.whatsapp.net"
}

### Erro: Sess√£o inexistente
POST {{baseUrl}}/sessions/sessao-inexistente/send
Content-Type: application/json
apiKey: {{apiKey}}

{
  "to": "{{targetJID}}@s.whatsapp.net",
  "message": "Teste com sess√£o inexistente"
}

### ===== NOTAS =====
# Vari√°veis configur√°veis:
# @baseUrl - URL do servidor (padr√£o: http://localhost:8080)
# @apiKey - Chave da API (padr√£o: njhfyikg)
# @sessionName - Nome da sess√£o (padr√£o: minha-sessao)
# @targetJID - N√∫mero de destino (padr√£o: 559981769536)
# @groupJID - ID do grupo (exemplo)
#
# Formatos JID:
# - Individual: {n√∫mero}@s.whatsapp.net
# - Grupo: {groupID}@g.us
#
# Para curl, use aspas simples para evitar problemas com !:
# curl -d '{"message": "Ol√°!"}' (correto)
# curl -d "{\"message\": \"Ol√°!\"}" (erro no bash)